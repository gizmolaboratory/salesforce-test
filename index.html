<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salesforce Administrator Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
        }

        /* ÏãúÏûë ÌôîÎ©¥ */
        .menu-screen {
            background: white;
            border-radius: 20px;
            padding: 80px 40px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.6s ease-out;
        }

        .menu-screen h1 {
            font-size: 56px;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            letter-spacing: -1px;
        }

        .menu-screen h2 {
            font-size: 28px;
            color: #333;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .menu-screen .subtitle-text {
            color: #666;
            font-size: 16px;
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .menu-screen .subtitle-small {
            color: #999;
            font-size: 14px;
            margin-bottom: 40px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 16px 40px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }

        /* ÌÄ¥Ï¶à ÌôîÎ©¥ */
        .quiz-screen {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.6s ease-out;
        }

        .stats-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .stat-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .progress-section {
            margin-bottom: 30px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
            color: #666;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .question-section {
            margin-bottom: 30px;
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .question-id {
            font-size: 12px;
            color: #999;
            margin-bottom: 20px;
        }

        .options {
            display: grid;
            gap: 12px;
            margin-bottom: 30px;
        }

        .option {
            padding: 16px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            background: white;
            font-size: 15px;
            transition: all 0.2s ease;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(4px);
        }

        .option.selected {
            border-color: #667eea;
            background: #e8ecff;
            font-weight: 600;
        }

        .option.correct {
            border-color: #4caf50;
            background: #e8f5e9;
            color: #2e7d32;
        }

        .option.incorrect {
            border-color: #f44336;
            background: #ffebee;
            color: #c62828;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #ddd;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 2px;
            transition: all 0.2s ease;
        }

        .option.selected .checkbox {
            background: #667eea;
            border-color: #667eea;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .feedback {
            padding: 16px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: 600;
            border-left: 4px solid;
        }

        .feedback.correct {
            background: #e8f5e9;
            color: #2e7d32;
            border-color: #4caf50;
        }

        .feedback.incorrect {
            background: #ffebee;
            color: #c62828;
            border-color: #f44336;
        }

        .feedback-answer {
            margin-top: 8px;
            font-size: 13px;
            opacity: 0.9;
        }

        /* Í≤∞Í≥º ÌôîÎ©¥ */
        .results-screen {
            background: white;
            border-radius: 20px;
            padding: 60px 40px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.6s ease-out;
        }

        .emoji {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .results-screen h2 {
            font-size: 32px;
            color: #333;
            margin-bottom: 30px;
            font-weight: 700;
        }

        .score-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .big-number {
            font-size: 60px;
            font-weight: 900;
            margin-bottom: 10px;
        }

        .score-label {
            font-size: 16px;
            opacity: 0.9;
        }

        .btn-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 600px) {
            .menu-screen {
                padding: 50px 25px;
            }

            .menu-screen h1 {
                font-size: 40px;
            }

            .quiz-screen, .results-screen {
                padding: 25px;
            }

            .question-text {
                font-size: 16px;
            }

            .stats-bar {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="root"></div>

    <script>
        const allQuestions = [
            { id: 1, q: "A Sales user is trying to manage Campaign Members for an upcoming networking event. The user can view the Campaign, but cannot add new Campaign Members or update Member statuses. How can an administrator troubleshoot this problem?", opts: ["Create a permission set to allow the user to edit Campaign Members.", "Provide the user access to both Leads and Contacts to edit all Members.", "Make sure the Marketing User Checkbox is checked on the user record page.", "Run a Campaign report and update any Member information via Data Loader."], ans: [2] },
            { id: 2, q: "Cloud Kicks has decided to delete a custom field. What will happen to the data in the field when it is deleted?", opts: ["The data in the field is stored for 20 days.", "The data is permanently deleted.", "The data associated with the field is required.", "The data is restorable from the recycle bin."], ans: [0] },
            { id: 3, q: "The administrator at Cloud Kicks created a new field for tracking returns on their new cloud shoe. A user has submitted case to the administrator indication that the new field is unavailable. Which two steps should an administrator do to troubleshoot this issue?", opts: ["Ensure that the page layout for the user's profile has been updated.", "Run the setup audit trail for the organization.", "Update the organization wide default for the object.", "Review the field level security of the field for the user profile"], ans: [0, 3] },
            { id: 4, q: "Cloud Kicks has a team of product owners that need a space to share feedback and ideas with just the product team. How should the administrator leverage Salesforce to help the team collaborate?", opts: ["Use Quick Actions to log communication.", "Configure a Chatter Public Group.", "Create a Chatter Private Group.", "Add Activity History to document tasks."], ans: [2] },
            { id: 5, q: "Ursa Major Solar has a path on Case. The company wants to require its users to follow the status values as they are on the path. Agents should be prohibited from reverting the Case back to a previous status. Which feature should an administrator use to fulfill this request?", opts: ["Predefined Field Values", "Global Value Picklists", "Dependent Picklists", "Validation Rules"], ans: [3] },
            { id: 216, q: "Universal Container wants to prevent its service team from accessing deal records. While service users are unable to access deal list views, they are able to find the deal records via a search. What options should the administrator adjust to fully restrict access?", opts: ["Record setting and search index", "Permissions and tab visibility", "App permissions and search terms", "Page layouts and field-level security"], ans: [1] },
            { id: 248, q: "Northern Trail Outfitters has the Case Object set to private. The support manager raised a concern the reps have a boarder view of data than expected and can see all cases on their groups dashboards. What could be causing reps to have inappropriate access to data on dashboards?", opts: ["Dashboard Filters", "Dashboard Subscriptions", "Dynamic Dashboards", "Public Dashboards."], ans: [2] }
        ];

        let round = 1;
        let currentQuestions = [];
        let currentIdx = 0;
        let selectedAnswers = {};
        let showingAnswer = false;
        let roundComplete = false;

        function getQuestionsForRound() {
            const shuffled = [...allQuestions].sort(() => Math.random() - 0.5);
            return shuffled.slice(0, Math.min(60, shuffled.length));
        }

        function startQuiz() {
            round = 1;
            currentQuestions = getQuestionsForRound();
            currentIdx = 0;
            selectedAnswers = {};
            showingAnswer = false;
            roundComplete = false;
            render();
        }

        function handleAnswerToggle(optIdx) {
            if (showingAnswer) return;
            const current = selectedAnswers[currentIdx] || [];
            if (current.includes(optIdx)) {
                selectedAnswers[currentIdx] = current.filter(i => i !== optIdx);
            } else {
                selectedAnswers[currentIdx] = [...current, optIdx];
            }
            render();
        }

        function handleSubmit() {
            showingAnswer = true;
            render();
        }

        function handleNext() {
            if (currentIdx < currentQuestions.length - 1) {
                currentIdx++;
                showingAnswer = false;
            } else {
                roundComplete = true;
            }
            render();
        }

        function handleNextRound() {
            round++;
            currentQuestions = getQuestionsForRound();
            currentIdx = 0;
            selectedAnswers = {};
            showingAnswer = false;
            roundComplete = false;
            render();
        }

        function handleReset() {
            startQuiz();
        }

        function getCurrentQuestion() {
            return currentQuestions[currentIdx];
        }

        function getCorrectCount() {
            return Object.keys(selectedAnswers).filter(i => {
                const sel = (selectedAnswers[i] || []).sort((a, b) => a - b);
                const cor = (currentQuestions[i]?.ans || []).sort((a, b) => a - b);
                return JSON.stringify(sel) === JSON.stringify(cor);
            }).length;
        }

        function isAnswerCorrect() {
            const q = getCurrentQuestion();
            const selected = (selectedAnswers[currentIdx] || []).sort((a, b) => a - b);
            const correct = (q?.ans || []).sort((a, b) => a - b);
            return JSON.stringify(selected) === JSON.stringify(correct);
        }

        function render() {
            const q = getCurrentQuestion();
            const currentAnswers = selectedAnswers[currentIdx] || [];
            const correctAnswers = q?.ans || [];
            const correctCount = getCorrectCount();
            const isCorrect = isAnswerCorrect();

            let html = ``;

            if (!roundComplete) {
                html = `
                    <div class="quiz-screen">
                        <div class="stats-bar">
                            <div class="stat-item">üéØ Round ${round}/3</div>
                            <div class="stat-item">üìä Q${currentIdx + 1}/${currentQuestions.length}</div>
                            <div class="stat-item">‚úÖ ${correctCount}/${Object.keys(selectedAnswers).length}</div>
                        </div>

                        <div class="progress-section">
                            <div class="progress-info">
                                <span>Progress</span>
                                <span>${Math.round(((currentIdx + 1) / currentQuestions.length) * 100)}%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${((currentIdx + 1) / currentQuestions.length) * 100}%"></div>
                            </div>
                        </div>

                        <div class="question-section">
                            <div class="question-text">${q?.q}</div>
                            <div class="question-id">üìã Î¨∏Ï†ú NO.${q?.id}</div>
                        </div>

                        <div class="options">
                            ${q?.opts.map((opt, i) => {
                                let className = 'option';
                                if (showingAnswer) {
                                    if (correctAnswers.includes(i)) className += ' correct';
                                    else if (currentAnswers.includes(i)) className += ' incorrect';
                                } else if (currentAnswers.includes(i)) {
                                    className += ' selected';
                                }
                                return `
                                    <button onclick="handleAnswerToggle(${i})" class="${className}">
                                        <div class="checkbox">${currentAnswers.includes(i) ? '‚úì' : ''}</div>
                                        <span>${opt}</span>
                                    </button>
                                `;
                            }).join('')}
                        </div>

                        ${!showingAnswer && currentAnswers.length > 0 ? `<button class="btn" onclick="handleSubmit()">ÎãµÎ≥Ä Ï†úÏ∂ú</button>` : ''}

                        ${showingAnswer ? `
                            <div class="feedback ${isCorrect ? 'correct' : 'incorrect'}">
                                ${isCorrect ? '‚úì Ï†ïÎãµÏûÖÎãàÎã§!' : '‚úó ÌãÄÎ†∏ÏäµÎãàÎã§'}
                                ${!isCorrect ? `<div class="feedback-answer">Ï†ïÎãµ: ${correctAnswers.map(i => q?.opts[i]).join(', ')}</div>` : ''}
                            </div>
                            <button class="btn" onclick="handleNext()">${currentIdx < currentQuestions.length - 1 ? 'Îã§Ïùå Î¨∏Ï†ú' : 'ÎùºÏö¥Îìú ÏôÑÎ£å'}</button>
                        ` : ''}
                    </div>
                `;
            } else {
                const percentage = Math.round((correctCount / 60) * 100);
                const emoji = percentage >= 80 ? 'üéâ' : percentage >= 60 ? 'üëç' : 'üí™';
                html = `
                    <div class="results-screen">
                        <div class="emoji">${emoji}</div>
                        <h2>ÎùºÏö¥Îìú ${round} ÏôÑÎ£å!</h2>
                        <div class="score-display">
                            <div class="big-number">${percentage}%</div>
                            <div class="score-label">${correctCount} / 60 Ï†ïÎãµ</div>
                        </div>
                        <div class="btn-group">
                            ${round < 3 ? `
                                <button class="btn" onclick="handleNextRound()">ÎùºÏö¥Îìú ${round + 1} ÏãúÏûë ‚Üí</button>
                            ` : `
                                <button class="btn" onclick="handleReset()">Ï≤òÏùåÎ∂ÄÌÑ∞ Îã§Ïãú ÏãúÏûë</button>
                            `}
                        </div>
                    </div>
                `;
            }

            document.getElementById('root').innerHTML = html;
        }

        // Ï¥àÍ∏∞ Î†åÎçîÎßÅ - Î©îÎâ¥ ÌôîÎ©¥
        document.getElementById('root').innerHTML = `
            <div class="menu-screen">
                <h1>Salesforce</h1>
                <h2>Administrator Quiz</h2>
                <div class="subtitle-text">248Í∞ú ÏãúÌóò Î¨∏Ï†úÎ°ú Ïù∏Ï¶ù Ï§ÄÎπÑ</div>
                <div class="subtitle-small">60Í∞úÏî© 3ÎùºÏö¥Îìú ÏßÑÌñâ ‚Ä¢ Ïã§Ï†ú ÏãúÌóò ÏàòÏ§Ä</div>
                <button class="btn" onclick="startQuiz()">ÏãúÏûëÌïòÍ∏∞ ‚Üí</button>
            </div>
        `;
    </script>
</body>
</html>
